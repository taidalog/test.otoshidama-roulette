(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function p(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Ve(e){return e!=null&&typeof e.GetEnumerator=="function"}function Ge(e){return e!=null&&typeof e.CompareTo=="function"}function xe(e){return e!=null&&typeof e.Equals=="function"}function We(e){return e!=null&&typeof e.GetHashCode=="function"}function Je(e){return e!=null&&typeof e.Dispose=="function"}function v(e){Je(e)&&e.Dispose()}function V(){return null}function G(e,t){var n,r;return((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(t))==null?void 0:r.constructor)}class Ke{constructor(t){this.iter=t,this.current=V()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function I(e){return Ve(e)?e.GetEnumerator():new Ke(e[Symbol.iterator]())}function ve(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}function ce(e,t){return e.toString(10).padStart(t,"0")}function ae(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function Ce(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class w{static id(t){return w.idMap.has(t)||w.idMap.set(t,++w.count),w.idMap.get(t)}}w.idMap=new WeakMap;w.count=0;function x(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function Q(e){return e*2654435761|0}function Ue(e){return x(e.toString(32))}function J(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const o=e[r];t=(t<<5)+t^o}return t}function Ze(e){return e.getTime()}function Xe(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=A(e[r]);return J(n)}function A(e){var t;if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Q(e);case"bigint":return Ue(e);case"string":return x(e);default:{if(We(e))return e.GetHashCode();if(p(e))return Xe(e);if(e instanceof Date)return Ze(e);if(((t=Object.getPrototypeOf(e))==null?void 0:t.constructor)===Object){const n=Object.values(e).map(r=>A(r));return J(n)}else return Q(w.id(e))}}}function ze(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Ne(e,t){return ze(e,t,C)}function Ye(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!C(e[n[o]],t[r[o]]))return!1;return!0}function C(e,t){var n;return e===t?!0:e==null?t==null:t==null?!1:xe(e)?e.Equals(t):p(e)?p(t)&&Ne(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&Oe(e,t)===0:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object&&Ye(e,t)}function Oe(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+ae(e),r=t.getTime()+ae(t)),n===r?0:n<r?-1:1}function Qe(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,o=0;r<e.length;r++)if(o=n(e[r],t[r]),o!==0)return o;return 0}function Te(e,t){return Qe(e,t,D)}function et(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,i=0;o<n.length;o++){const s=n[o];if(s!==r[o])return s<r[o]?-1:1;if(i=D(e[s],t[s]),i!==0)return i}return 0}function D(e,t){var n;return e===t?0:e==null?t==null?0:-1:t==null?1:Ge(e)?e.CompareTo(t):p(e)?p(t)?Te(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?Oe(e,t):-1:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object?et(e,t):-1}class N{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return A(this.value)}Equals(t){return t==null?!1:C(this.value,t instanceof N?t.value:t)}CompareTo(t){return t==null?1:D(this.value,t instanceof N?t.value:t)}}function d(e){if(e==null)throw new Error("Option has no value");return e instanceof N?e.value:e}function B(e){return e==null||e instanceof N?new N(e):e}function fe(e,t){return e!=null?d(e):t}function Ae(e,t){return t!=null?B(e(d(t))):void 0}function tt(e){let t=0,n="[";for(const r of e){if(t===0)n+=E(r);else if(t===100){n+="; ...";break}else n+="; "+E(r);t++}return n+"]"}function E(e,t=0){var n;if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return tt(e);{const r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor;return r===Object&&t<10?"{ "+Object.entries(e).map(([o,i])=>o+" = "+E(i,t+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(e)}function nt(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=E(t[0]),r=n.indexOf(" ")>=0):n=t.map(o=>E(o)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class L{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return nt(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>A(n));return t.splice(0,0,Q(this.tag)),J(t)}Equals(t){return this===t?!0:G(this,t)&&this.tag===t.tag?Ne(this.fields,t.fields):!1}CompareTo(t){return this===t?0:G(this,t)?this.tag===t.tag?Te(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function rt(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function ot(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+E(n)).join(`
  `)+" }"}function it(e){const t=Object.values(e).map(n=>A(n));return J(t)}function st(e,t){if(e===t)return!0;if(G(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!C(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function ut(e,t){if(e===t)return 0;if(G(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const o=D(e[n[r]],t[n[r]]);if(o!==0)return o}return 0}else return-1}class lt{toJSON(){return rt(this)}toString(){return ot(this)}GetHashCode(){return it(this)}Equals(t){return st(this,t)}CompareTo(t){return ut(this,t)}}function Be(e,t){return e>t?e:t}const ct="The index was outside the range of elements in the collection.",Le="Collection was empty.";function at(e,t,n,r){const o=t|0;return e.fill(r,o,o+n)}function ft(e,t,n,r,o){const i=fe(n,0)|0,s=fe(Ae(l=>i+l,r),e.length)|0;return(l=>{e:for(;;){const c=l;if(c>=s)return-1;if(o.Equals(t,K(c,e)))return c|0;l=c+1;continue e}})(i)|0}function de(e,t,n){return ft(t,e,void 0,void 0,n)>=0}function dt(e){return e.slice().reverse()}function mt(e,t){for(let n=0;n<=t.length-1;n++)e(n,K(n,t))}function ht(e){if(e.length!==0)return B(K(0,e))}function K(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function gt(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}const k=Symbol("numeric");function wt(e){return typeof e=="number"||typeof e=="bigint"||(e==null?void 0:e[k])}function yt(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function pt(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[k]().multiply(t)}function Et(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[k]().toFixed(t)}function me(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[k]().toPrecision(t)}function he(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[k]().toExponential(t)}function ge(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[k]().toHex()}function St(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+ce(n,2)+":"+ce(r,2)}function bt(e,t){return new Date(e.getTime()+(e.offset??0)).toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+St(e.offset??0)}function _t(e,t){return e.kind===1?e.toUTCString():e.toLocaleString()}function It(e,t,n){return e.offset!=null?bt(e):_t(e)}function vt(e,t){const n=new Date(e);return n.kind=t|0,n}function Ct(){return vt(Date.now(),2)}function Nt(e){return e.kind===1?e.getUTCFullYear():e.getFullYear()}function Ot(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function Tt(e,t,n=0){return e.lastIndex=n,e.test(t)}function ke(e,t,n=0){return e.lastIndex=n,e.exec(t)}const $=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g;function At(e,t){return yt(e,t)<0}function b(e,t){let n=0,r=0,o="";$.lastIndex=0;let i=$.exec(e);for(;i;){const s=i.index+(i[1]||"").length;o+=e.substring(r,s).replace(/%%/g,"%");const[,,u,l,c,a]=i;r=$.lastIndex,o+=Lt(t[n++],u,l,c,a),$.lastIndex=r-1,i=$.exec(e)}return o+=e.substring(r).replace(/%%/g,"%"),o}function Bt(e,t){return typeof t=="string"?e(t):t.cont(e)}function _(e){return Bt(t=>t,e)}function Lt(e,t,n,r,o){let i="";if(t=t||"",o=o||"",wt(e))switch(o.toLowerCase()!=="x"&&(At(e,0)?(e=pt(e,-1),i="-"):t.indexOf(" ")>=0?i=" ":t.indexOf("+")>=0&&(i="+")),r=r==null?null:parseInt(r,10),o){case"f":case"F":r=r??6,e=Et(e,r);break;case"g":case"G":e=r!=null?me(e,r):me(e);break;case"e":case"E":e=r!=null?he(e,r):he(e);break;case"x":e=ge(e);break;case"X":e=ge(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=It(e):e=E(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=i+e;else{const s=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!s?" ":"0";l==="0"?(e=ee(e,n-i.length,l,u),e=i+e):e=ee(i+e,n,l,u)}return e}function Fe(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function ee(e,t,n,r){n=n||" ",t=t-e.length;for(let o=0;o<t;o++)e=r?e+n:n+e;return e}function kt(e,t,n){return ee(e,t,n)}class m extends lt{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+Fe("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((o,i)=>{e:for(;;){const s=o,u=i,l=s.tail,c=u.tail;if(l!=null)if(c!=null){const a=d(l),S=d(c);if(C(s.head,u.head)){o=a,i=S;continue e}else return!1}else return!1;else return c==null}})(n,t)}GetHashCode(){return((r,o,i)=>{e:for(;;){const s=r,u=o,l=i,c=l.tail;if(c!=null){const a=d(c);if(s>18)return u|0;r=s+1,o=(u<<1)+A(l.head)+631*s,i=a;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((o,i)=>{e:for(;;){const s=o,u=i,l=s.tail,c=u.tail;if(l!=null)if(c!=null){const a=d(l),S=d(c),P=D(s.head,u.head)|0;if(P===0){o=a,i=S;continue e}else return P|0}else return 1;else return c!=null?-1:0}})(this,t)|0}GetEnumerator(){return Pt(this)}[Symbol.iterator](){return ve(I(this))}"System.Collections.IEnumerable.GetEnumerator"(){return I(this)}}class Ft{constructor(t){this.xs=t,this.it=this.xs,this.current=V()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=d(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=V()}Dispose(){}}function Pt(e){return new Ft(e)}function h(){return new m(V(),void 0)}function re(e,t){return new m(e,t)}function O(e){return e.tail==null}function Pe(e){return((n,r)=>{e:for(;;){const o=n,s=r.tail;if(s!=null){n=o+1,r=d(s);continue e}else return o|0}})(0,e)|0}function H(e){if(e.tail!=null)return e.head;throw new Error(Le+"\\nParameter name: list")}function g(e){const t=e.tail;if(t!=null)return d(t);throw new Error(Le+"\\nParameter name: list")}function $t(e,t){return((r,o)=>{e:for(;;){const i=r,s=o,u=s.tail;if(u!=null){if(i===t)return s.head;r=i+1,o=d(u);continue e}else throw new Error(ct+"\\nParameter name: index")}})(0,e)}function we(e,t){return re(e,t)}function ye(e){return O(e)}function Mt(e){return Pe(e)}function R(e){return H(e)}function Ht(e){if(!O(e))return B(H(e))}function X(e){return g(e)}function jt(e){const t=Pe(e)|0,n=at(new Array(t),0,t,null);return((o,i)=>{e:for(;;){const s=o,u=i;if(!O(u)){gt(n,s,H(u)),o=s+1,i=g(u);continue e}break}})(0,e),n}function oe(e,t,n){let r=t,o=n;for(;!O(o);)r=e(r,R(o)),o=g(o);return r}function pe(e){return oe((t,n)=>re(n,t),h(),e)}function Dt(e,t,n,r){let o=t,i=n,s=r;for(;!O(i)&&!O(s);)o=e(o,H(i),H(s)),i=g(i),s=g(s);return o}function z(e,t){oe((n,r)=>{e(r)},void 0,t)}function Rt(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=re(K(r,e),n);return n}function F(e){return Rt(e,h())}function qt(e){let t,n;if(p(e))return F(e);if(e instanceof m)return e;{const r=h();let o=r;const i=I(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();){const l=i["System.Collections.Generic.IEnumerator`1.get_Current"]();o=(t=o,n=new m(l,void 0),t.tail=n,n)}}finally{v(i)}const s=o,u=h();return s.tail=u,g(r)}}function Ee(e,t){const n=h(),r=oe((i,s)=>{const u=new m(e(s),void 0);return i.tail=u,u},n,t),o=h();return r.tail=o,g(n)}function Vt(e,t,n){const r=h(),o=Dt((s,u,l)=>{const c=new m(e(u,l),void 0);return s.tail=c,c},r,t,n),i=h();return o.tail=i,g(r)}function $e(e,t){return $t(t,e)}function te(e,t){let n,r;const o=h();let i=o;for(let l=0;l<=e-1;l++)i=(n=i,r=new m(t(l),void 0),n.tail=r,r);const s=i,u=h();return s.tail=u,g(o)}function Gt(e,t){return te(e,n=>t)}function xt(){return Math.random()}function Y(e,t){if(t<e)throw new Error("minValue must be less than maxValue");return Math.floor(Math.random()*(t-e))+e}function Wt(e){if(e==null)throw new Error("Buffer cannot be null");for(let t=0;t<e.length;t+=6){let n=Math.floor(Math.random()*281474976710656);const r=Math.floor(n/16777216);for(let o=0;o<6&&t+o<e.length;o++)o===3&&(n=r),e[t+o]=n&255,n>>>=8}}class Jt{constructor(){}Next0(){return Y(0,2147483647)}Next1(t){return Y(0,t)}Next2(t,n){return Y(t,n)}NextDouble(){return xt()}NextBytes(t){Wt(t)}}function Kt(){return new Jt}function Me(){return Kt()}function He(){return Me().NextDouble()}function U(e){return Me().Next1(e)|0}function Ut(e){throw new Error(e)}const Zt="Enumeration already finished.",Xt="Enumeration has not started. Call MoveNext.",zt="The input sequence has an insufficient number of elements.",Yt="Reset is not supported on this enumerator.";function Qt(){throw new Error(Yt)}function en(){throw new Error(Xt)}function tn(){throw new Error(Zt)}class nn{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const o=I(t);try{for(;n<4&&o["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+E(o["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{v(o)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return ve(I(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function rn(e){return new nn(e)}class on{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){Qt()}Dispose(){this.dispose()}}function je(e,t,n){return new on(e,t,n)}function sn(e,t){return je(()=>t["System.Collections.Generic.IEnumerator`1.get_Current"](),()=>t["System.Collections.IEnumerator.MoveNext"](),()=>{try{v(t)}finally{}})}function un(e,t,n){let r=!1,o,i=B(e());const s=()=>{if(i!=null){const l=d(i);try{n(l)}finally{i=void 0}}},u=()=>{try{s()}finally{o=void 0}};return je(()=>(r||en(),o!=null?d(o):tn()),()=>{if(r||(r=!0),i!=null){const l=d(i);let c;try{c=t(l)}catch(a){throw u(),a}return c!=null?(o=c,!0):(u(),!1)}else return!1},s)}function ln(e,t){t==null&&Ut(e)}function ie(e){return rn(e)}function Z(e){return ln("source",e),I(e)}function cn(e){return ie(()=>I(e()))}function an(e){return e instanceof m?jt(e):Array.from(e)}function fn(e){return p(e)?F(e):e instanceof m?e:qt(e)}function dn(e,t,n){return ie(()=>un(e,t,n))}function mn(e,t,n){const r=Z(n);try{let o=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)o=e(o,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return o}finally{v(r)}}function hn(e){if(p(e))return ht(e);if(e instanceof m)return Ht(e);{const t=Z(e);try{return t["System.Collections.IEnumerator.MoveNext"]()?B(t["System.Collections.Generic.IEnumerator`1.get_Current"]()):void 0}finally{v(t)}}}function gn(e,t){mn((n,r)=>(e(n,r),n+1|0),0,t)}function wn(e,t){return dn(()=>Z(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?B(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{v(n)})}function yn(e){return cn(()=>dt(an(e)))}function pn(e,t){return ie(()=>{const n=Z(t);try{for(let r=1;r<=e;r++)if(!n["System.Collections.IEnumerator.MoveNext"]())throw new Error(zt+"\\nParameter name: source");return sn(()=>{},n)}catch(r){throw v(n),r}})}function En(e){return pn(1,e)}function Sn(e){return Ae(t=>t,hn(e.split("")))}function bn(e){return Fe("",wn(t=>t,En(e.split(""))))}function _n(e,t,n){return kt(n,e,t)}function In(e){return new f(1,[e])}class f extends L{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function y(e,t){return t.tag===0?e(t.fields[0]):In(t.fields[0])}var ne;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(ne||(ne={}));function vn(e,t){const[,n,r,o]=e;return{sign:n||"",prefix:r||"",digits:o,radix:t}}function Se(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Cn(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function Nn(e,t){if(t&ne.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function On(e,t,n){const o=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(o!=null){const[,,i,s]=o;if(n=n||Nn(i,t),!Cn(n).test(s))return vn(o,n)}return null}function se(e,t,n,r,o){const i=On(e,t,o);if(i!=null){let s=Number.parseInt(i.sign+i.digits,i.radix);if(!Number.isNaN(s)){const[u,l]=Se(!0,r);i.radix!==10&&s>=u&&s<=l&&(s=s<<32-r>>32-r);const[c,a]=Se(n,r);if(s>=c&&s<=a)return s}}throw new Error(`The input string ${e} was not in a correct format.`)}function Tn(e){try{return new f(0,[se(e,511,!1,32)])}catch(t){return new f(1,[new Error(t.message)])}}function De(e){return e===""?new f(1,[new Error("Value cannot be empty string.")]):new f(0,[e])}function Re(e,t){return Tt(Ot(e),t)?new f(0,[t]):new f(1,[new Error(`The input string '${t}' was not in a correct format.`)])}function qe(e,t,n){return e(n)>t?new f(1,[new Error(_(b("Value is too long. Value must be shorter or equal to %d%P()",[t])))]):new f(0,[n])}class T extends L{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Valid","Invalid"]}}class be extends L{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Valid","Invalid"]}}class _e extends L{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Valid","Invalid"]}}function An(e){const t=Tn(e);return t.tag===1?new T(1,[t.fields[0]]):new T(0,[t.fields[0]])}function Bn(e){const t=y(n=>{try{const r=ke(/^0*([01]+)$/gu,n);return new f(0,[r[1]||""])}catch(r){return new f(1,[r])}},y(n=>qe(r=>r.length,32,n),y(n=>Re("^[01]+$",n),y(De,new f(0,[e])))));return t.tag===1?new be(1,[t.fields[0]]):new be(0,[t.fields[0]])}function Ln(e){const t=e;return t.tag===1?new T(1,[t.fields[0]]):new T(0,[se(t.fields[0],511,!1,32,2)])}function kn(e){const t=y(n=>{try{const r=ke(/^0*([0-9A-Fa-f]+)$/gu,n);return new f(0,[r[1]||""])}catch(r){return new f(1,[r])}},y(n=>qe(r=>r.length,8,n),y(n=>Re("^[0-9A-Fa-f]+$",n),y(De,new f(0,[e])))));return t.tag===1?new _e(1,[t.fields[0]]):new _e(0,[t.fields[0]])}function Fn(e){const t=e;return t.tag===1?new T(1,[t.fields[0]]):new T(0,[se(t.fields[0],511,!1,32,16)])}class j extends L{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Stopping","Running","Invalid"]}}function Pn(){return $e(U(3),F(["(2)","(10)","(16)"]))}function $n(){return Ce(U(2))}function Mn(e,t){gn((n,r)=>{document.getElementById(_(b("digit%d%P()",[n+1]))).innerText=r},yn(e.split(""))),document.getElementById("radix").innerText=t}function Hn(e,t){t.innerText=e()}class M extends L{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Bin","Dec","Hex"]}}function Ie(e){switch(e.tag){case 1:return"(10)";case 2:return"(16)";default:return"(2)"}}function jn(){return $e(U(3),F([new M(0,[]),new M(1,[]),new M(2,[])]))}function Dn(e){return C(e,new M(1,[]))?He()<.03:!1}function Rn(e){return C(e,new M(2,[]))?He()<.03:!1}function qn(e){return _n(11,"0",Ce(U(e.tag===1?1024:e.tag===2?256:Nt(Ct())+1),2))}function Vn(e){e:for(;;){const t=e,n=Sn(t);if(n!=null){if(n!=="0")return t;e=bn(t);continue e}else return t}}function Gn(){const e=jn(),t=qn(e),n=e.tag===1?An(t):e.tag===2?Fn(kn(Vn(t))):Ln(Bn(t));if(n.tag===0){const r=pe(we(Ie(e),Ee(l=>l,fn(t.split(""))))),o=F(["digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","digit10","digit11","radix"]),i=Vt((l,c)=>setInterval(()=>{Hn(l,c)},100),pe(we(Pn,Gt(11,$n))),Ee(l=>document.getElementById(l),o)),s=document.getElementById("message"),u=document.getElementById("button");return Dn(e)?(s.innerText="10進法確定!",u.className="bamboo-leaves"):Rn(e)?(s.innerText="16進法確定!",u.className="pine-leaves"):(s.innerText="お年玉ルーレット！",u.className=""),document.getElementById("button").innerText="止",new j(1,[i,r,o,n.fields[0],t,Ie(e)])}else return new j(2,[])}function q(e){let t,n;const r=document.getElementById("button"),o=document.getElementById("result");switch(e.tag){case 0:{o.innerText="";const i=document.getElementById("outputArea");let s;const u=i.children;s=Array.from(u),s.forEach(a=>{a.classList.remove("fixed")});const l=document.getElementById("koto");l.currentTime=0,l.play();const c=Gn();r.onclick=a=>{q(c)};break}case 1:{const i=e.fields[1],s=e.fields[5],u=e.fields[0],l=e.fields[2],c=e.fields[4],a=e.fields[3]|0;if(!ye(u)){const S=X(u);clearInterval(R(u));const P=document.getElementById(R(l));if(P.innerText=R(i),P.classList.add("fixed"),ye(S)){r.onclick=Wn=>{q(new j(0,[]))},r.className="",r.innerText="始";const ue=document.getElementById("message");ue.innerText="お年玉ルーレット！",o.innerHTML=_(s==="(10)"?b("%d%P()<sub>(10)</sub>",[a]):b("%s%P()<sub>%s%P()</sub> = %d%P()<sub>(10)</sub>",[c,s,a]));const le=document.getElementById("shakuhachi");le.currentTime=0,le.play()}else r.onclick=(Mt(i)>5?(t=document.getElementById("kodutsumi"),t.currentTime=0,t.play()):(n=document.getElementById("hyoushigi"),n.currentTime=0,n.volume=.25,n.play()),ue=>{q(new j(1,[S,X(i),X(l),a,c,s]))})}break}}}function xn(e){let t,n;const r=document.getElementById("helpWindow"),o=de("active",(t=r.classList,Array.from(t)),{Equals:(l,c)=>l===c,GetHashCode:x}),i=document.getElementById("informationPolicyWindow"),s=de("active",(n=i.classList,Array.from(n)),{Equals:(l,c)=>l===c,GetHashCode:x});switch(e.key){case"Escape":{o&&r.classList.remove("active"),s&&i.classList.remove("active");break}case"?":{o||r.classList.add("active");break}}}function W(e,t){let n,r;t.setAttribute("viewBox",_(b("0 0 %f%P() 17",[e]))),t.setAttribute("width",_(b("%f%P()px",[e]))),t.setAttribute("height","17px"),mt((o,i)=>{i.setAttribute("points",_(b("0,%d%P() %f%P(),%d%P()",[o*6+3,e,o*6+3])))},(n=(r=t.querySelector("g"),r.querySelectorAll("polyline")),Array.from(n)))}window.addEventListener("DOMContentLoaded",e=>{Mn("00000000000","(2)");const t=document.getElementById("button");t.innerText="始";const n=document.getElementById("linesLeft"),r=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","g");z(a=>{o.appendChild(a)},te(3,a=>document.createElementNS("http://www.w3.org/2000/svg","polyline"))),r.appendChild(o),n.appendChild(r);const i=(window.innerWidth-Be(window.innerWidth*.0625,60))/2;W(i,r);const s=document.getElementById("linesRight"),u=document.createElementNS("http://www.w3.org/2000/svg","svg"),l=document.createElementNS("http://www.w3.org/2000/svg","g");z(a=>{l.appendChild(a)},te(3,a=>document.createElementNS("http://www.w3.org/2000/svg","polyline"))),u.appendChild(l),s.appendChild(u),W(i,u);const c=document.getElementById("message");c.innerText="お年玉ルーレット！",z(a=>{document.getElementById(a).onclick=S=>{document.getElementById("helpWindow").classList.toggle("active")}},F(["helpButton","helpClose"])),document.getElementById("informationPolicyLink").onclick=a=>{a.preventDefault(),document.getElementById("informationPolicyWindow").classList.add("active")},document.getElementById("informationPolicyClose").onclick=a=>{document.getElementById("informationPolicyWindow").classList.remove("active")},document.onkeydown=a=>{xn(a)},t.onclick=a=>{q(new j(0,[]))}});window.addEventListener("resize",e=>{const t=(window.innerWidth-Be(window.innerWidth*.0625,60))/2;W(t,document.getElementById("linesLeft").querySelector("svg")),W(t,document.getElementById("linesRight").querySelector("svg"))});
